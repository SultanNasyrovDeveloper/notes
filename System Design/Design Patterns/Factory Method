Factory Method
--------------

Описание:
Определяет интерфейс для создания объекта,
но оставляет подклассам решение о том,какой класс инстациировать.
Фабричный метод позволяет делегировать инстанцирование подклассам.


Когда использовать:
- классу заранее не известно объекты каких классов ему нужно создавать
- все нужные классы имеют общего родителя
- написание кода выбора класса
- инкапсулировать создание объекта

Участники:
1) Продукт(абстрактный класс)
- определяет интерфейс объектов, создаваемых фабричным методом

2) Конкретный продукт
- реализует интрефейс Продукт

3) Создатель
- объявляет фабричный метод, возвращает объект типа Продукт.
Созлатель может также определять реализацию по умолчанию фабричного метода,
который вернет объект Конкретного Продукта
- может вызывать фабричный метод для создания объекта Продукт

4) Конкретный Создатель
- замещает фабричный метод, возвращая конкретный продукт


Отношения:
Создатель полагается на свои конкретные классы в определении фабричного метода,
который будет возвращать экземпляр подходщего конкретного продукта


class Document(object):
    """Продукт  абстрактный класс"""
    def show(self):
        raise NotImplementedError()


class ODFDocument(Document):
    """Конкретный продукт"""
    def show(self):
        print 'Open document format'


class MSOfficeDocument(Document):
    """Конкретный продукт"""
    def show(self):
        print 'MS Office document format'


class Application(object):
    """Создатель - абстрактный класс"""
    def create_document(self, type_):
        """
        параметризованный фабричный метод `create_document`
        Заранее не известно объекты каких классов будет создавать
        """
        raise NotImplementedError()

class MyApplication(Application):
    """Конкретный создатель"""
    def create_document(self, type_):
        if type_ == 'odf':
            return ODFDocument()
        elif type_ == 'doc':
            return MSOfficeDocument()


app = MyApplication()
app.create_document('odf').show()  # Open document format
app.create_document('doc').show()  # MS Office document format
